% =====================================================
% Fig. X : Self-Heating & Thermal Symmetry (ğŸ’¯ç‰ˆ)
% å¿…è¦: \usetikzlibrary{patterns,arrows.meta,positioning}
% =====================================================
\begin{figure}[t]
  \centering
  \tikzset{
    box/.style   ={draw=black, fill=black!5},
    % æ¸©åº¦ãƒ¬ãƒ™ãƒ«ã¯ãƒ¢ãƒã‚¯ãƒ­å°åˆ·ã‚’æƒ³å®šã—ã¦ãƒ‘ã‚¿ãƒ¼ãƒ³ã§åŒºåˆ¥
    hot/.style   ={draw=black, pattern=north east lines, pattern color=black},
    warm/.style  ={draw=black, pattern=crosshatch,     pattern color=black},
    cool/.style  ={draw=black, pattern=dots,           pattern color=black},
    gate/.style  ={draw=black, pattern=horizontal lines, pattern color=black},
    sd/.style    ={draw=black, fill=black!25},
    label/.style ={font=\footnotesize},
    note/.style  ={font=\scriptsize, align=center},
    dim/.style   ={-{Latex[length=1.8mm]}, line width=0.3pt}
  }

  %======================== (a) FinFET ========================
  \begin{tikzpicture}[scale=0.95]
    \node[label, anchor=west] at (-0.15,2.85) {\textbf{(a) FinFET: Self-Heating}};
    % ãƒ•ãƒ¬ãƒ¼ãƒ 
    \draw[box] (0,0) rectangle (4,2.6);
    % S/D ã‚¿ãƒ¯ãƒ¼
    \draw[sd] (0.25,0.45) rectangle (0.95,2.15);
    \draw[sd] (3.05,0.45) rectangle (3.75,2.15);
    \node[label] at (0.60,2.32) {S};
    \node[label] at (3.40,2.32) {D};

    % Fin é ˜åŸŸï¼ˆç­‰æ¸©ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸‰å±¤ï¼šå¤–=Cool â†’ ä¸­=Warm â†’ å†…=Hotï¼‰
    \draw[cool] (1.80,0.45) rectangle (2.20,2.15);
    \draw[warm] (1.72,0.70) rectangle (2.28,1.90);
    \draw[hot]  (1.64,1.00) rectangle (2.36,1.60);

    % ã‚²ãƒ¼ãƒˆä¸‰é¢ãƒ©ãƒƒãƒ—è¡¨ç¤ºï¼ˆè–„ã„æ ï¼‹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
    \draw[gate] (1.30,0.55) rectangle (2.70,2.05);

    % æ³¨è¨˜ï¼ˆå›³å¤–å´ã«å‡ºã™ï¼‰
    \node[note] at (2.00,2.45) {é«˜æ¸©åŸŸãŒãƒãƒ£ãƒãƒ«ä¸­å¤®ã«é›†ä¸­\\Hotspot centered in channel};
    % çŸ¢å°ã§ãƒ›ãƒƒãƒˆã‚¹ãƒãƒƒãƒˆæŒ‡ç¤º
    \draw[dim] (2.36,1.60) -- ++(0.45,0.25);
  \end{tikzpicture}

  \vspace{1.2ex}

  %======================== (b) CFET ==========================
  \begin{tikzpicture}[scale=0.95]
    \node[label, anchor=west] at (-0.15,3.15) {\textbf{(b) CFET: Vertical Thermal Coupling}};
    % ãƒ•ãƒ¬ãƒ¼ãƒ 
    \draw[box] (0,0) rectangle (4,3.0);
    % å…±æœ‰ S/D ãƒ”ãƒ©ãƒ¼
    \draw[sd] (0.25,0.45) rectangle (0.95,2.55);
    \draw[sd] (3.05,0.45) rectangle (3.75,2.55);
    \node[label] at (0.60,2.72) {S/D};
    \node[label] at (3.40,2.72) {S/D};

    % ä¸‹æ®µãƒ‡ãƒã‚¤ã‚¹ç­‰æ¸©ãƒ‘ã‚¿ãƒ¼ãƒ³
    \draw[cool] (1.15,0.50) rectangle (2.85,1.20);
    \draw[warm] (1.35,0.65) rectangle (2.65,1.05);
    \draw[hot]  (1.55,0.80) rectangle (2.45,0.95);

    % ILD spacer
    \draw[box, fill=black!12] (0,1.30) rectangle (4,1.50);
    \node[note] at (3.65,1.40) {ILD};

    % ä¸Šæ®µãƒ‡ãƒã‚¤ã‚¹ç­‰æ¸©ãƒ‘ã‚¿ãƒ¼ãƒ³
    \draw[cool] (1.15,1.60) rectangle (2.85,2.30);
    \draw[warm] (1.35,1.75) rectangle (2.65,2.15);
    \draw[hot]  (1.55,1.90) rectangle (2.45,2.05);

    % ã‚²ãƒ¼ãƒˆï¼ˆè¼ªéƒ­ï¼‰
    \draw[gate] (1.05,0.55) rectangle (2.95,1.10); % lower gate
    \draw[gate] (1.05,1.70) rectangle (2.95,2.25); % upper gate

    % æ³¨è¨˜ï¼ˆç†±å¹²æ¸‰ï¼‰
    \node[note] at (2.00,2.82) {ä¸Šä¸‹FETé–“ã§ç†±å¹²æ¸‰\\Vertical thermal coupling};
    % çŸ¢å°ï¼ˆä¸Šä¸‹ãƒ›ãƒƒãƒˆã‚¹ãƒãƒƒãƒˆé–“ï¼‰
    \draw[dim] (2.45,2.05) -- (2.70,2.35);
    \draw[dim] (2.45,0.95) -- (2.70,0.65);
  \end{tikzpicture}

  \vspace{1.2ex}

  %======================== å‡¡ä¾‹ï¼ˆãƒ¢ãƒã‚¯ãƒ­å¯¾å¿œï¼‰ =========================
  \begin{tikzpicture}[scale=0.95, every node/.style={label}]
    % Hot
    \draw[hot] (0,0) rectangle (0.5,0.3); \node[right] at (0.6,0.15) {é«˜æ¸© / Hotspot};
    % Warm
    \draw[warm] (3.2,0) rectangle (3.7,0.3); \node[right] at (3.8,0.15) {æº–é«˜æ¸© / Warm};
    % Cool
    \draw[cool] (6.4,0) rectangle (6.9,0.3); \node[right] at (7.0,0.15) {ä½æ¸© / Cool};
    % Gate
    \draw[gate] (0,-0.55) rectangle (0.5,-0.25); \node[right] at (0.6,-0.40) {ã‚²ãƒ¼ãƒˆ / Gate};
    % S/D
    \draw[sd] (3.2,-0.55) rectangle (3.7,-0.25); \node[right] at (3.8,-0.40) {ã‚½ãƒ¼ã‚¹ãƒ»ãƒ‰ãƒ¬ã‚¤ãƒ³ / S/D};
    % ILD
    \draw[box, fill=black!12] (6.4,-0.55) rectangle (6.9,-0.25); \node[right] at (7.0,-0.40) {å±¤é–“çµ¶ç¸ / ILD};
  \end{tikzpicture}

  \caption{è‡ªå·±ç™ºç†±ã¨ç†±å¯¾ç§°æ€§ã®æ¦‚å¿µå›³ã€‚å·¦ (a) FinFET ã¯ãƒãƒ£ãƒãƒ«ä¸­å¤®ã«ãƒ›ãƒƒãƒˆã‚¹ãƒãƒƒãƒˆãŒé›†ä¸­ã—ã€å³ (b) CFET ã¯ä¸Šä¸‹FETé–“ã§ç†±ãŒçµåˆã™ã‚‹ã€‚ãƒ‘ã‚¿ãƒ¼ãƒ³åŒ–ã«ã‚ˆã‚Šãƒ¢ãƒã‚¯ãƒ­å°åˆ·ã§ã‚‚æ¸©åº¦é ˜åŸŸãŒè­˜åˆ¥å¯èƒ½ã€‚%
  \newline\footnotesize Concept of self-heating and thermal symmetry. (a) FinFET shows a centered hotspot; (b) CFET exhibits vertical thermal coupling between stacked FETs. Pattern fills ensure readability in grayscale.}
  \label{fig:thermal_symmetry}
\end{figure}
