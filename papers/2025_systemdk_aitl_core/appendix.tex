% ============================================================
% Appendix A: FPGAå®Ÿè£…ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ä»•æ§˜ï¼ˆAITLçµåˆ / ğŸ’¯ä¿®æ­£ç‰ˆï¼‰
% ============================================================
\appendix
\section*{ä»˜éŒ²Aï¼šAITLâ€“FPGAã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ä»•æ§˜}

AITLä¸‰å±¤åˆ¶å¾¡ã®ã†ã¡ï¼ŒPIDå±¤ãŠã‚ˆã³FSMå±¤ã¯FPGAä¸Šã«å®Ÿè£…ã•ã‚Œï¼Œ
SystemDKã‚¹ã‚­ãƒ¼ãƒã‚’é€šã˜ã¦LLMå±¤ãŠã‚ˆã³è§£æç³»ã¨åŒæœŸã™ã‚‹ã€‚
SystemDKã¯Verilogè‡ªå‹•ç”Ÿæˆæ™‚ã«ä»¥ä¸‹ã®ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹æ§‹é€ ã‚’å®šç¾©ã™ã‚‹ã€‚

\begin{itemize}
  \setlength{\itemsep}{1pt}
  \item \textbf{Clock Domain:} 100\,MHzï¼200\,MHzé¸æŠå¼ã€‚å…¨åˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯ã¯
        ã‚·ã‚¹ãƒ†ãƒ ã‚¯ãƒ­ãƒƒã‚¯ä¿¡å· \texttt{clk\_sys} ã«åŒæœŸã€‚
  \item \textbf{Latency:} PIDãƒ«ãƒ¼ãƒ—ã¯1ã‚¯ãƒ­ãƒƒã‚¯å‘¨æœŸé…å»¶ï¼ˆ10\,ns @ 100\,MHzï¼‰ã€‚
        FSMç›£ç£ä¿¡å·ã¯éåŒæœŸå‰²è¾¼ã¿ï¼ˆevent-driven interruptï¼‰ã§ä¼é”ã€‚
  \item \textbf{Memory Map:} åˆ¶å¾¡ã‚²ã‚¤ãƒ³ãƒ»FSMé–¾å€¤ãƒ»LLMæŒ‡ä»¤å€¤ã‚’
        \texttt{0x0000--0x00FF}ï¼Œ
        \texttt{0x0100--0x01FF}ï¼Œ
        \texttt{0x0200--0x02FF} ã«å‰²å½“ã€‚
  \item \textbf{Communication:} AITL--FPGAé–“é€šä¿¡ã¯
        AXI4\-/Lite ãƒã‚¹ã‚’ä»‹ã—ã¦å®Ÿè£…ã€‚
        SystemDKãƒ›ã‚¹ãƒˆãŒåˆ¶å¾¡ãƒ»æ›´æ–°å‘½ä»¤ã‚’é€ä¿¡ã—ï¼Œ
        FPGAã¯å³æ™‚åæ˜ ã™ã‚‹ã€‚
\end{itemize}

ã“ã®æ§‹æˆã«ã‚ˆã‚Šï¼Œ
LLMå±¤ãŒç”Ÿæˆã™ã‚‹å†è¨­è¨ˆæŒ‡ä»¤ã¯FPGAä¸Šã®PIDï¼FSMãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«
ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åæ˜ ã•ã‚Œï¼Œ
SystemDKå…¨ä½“ã®é–‰ãƒ«ãƒ¼ãƒ—æ›´æ–°ãŒå‹•çš„ã«æˆç«‹ã™ã‚‹ã€‚
FPGAã¯AITLä¸‰å±¤ã‚’å…·ç¾åŒ–ã™ã‚‹
ã€Œç‰©ç†çš„åˆ¶å¾¡æ ¸ï¼ˆphysical control kernelï¼‰ã€ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã€‚

% ============================================================
% Appendix B: SystemDKã‚¹ã‚­ãƒ¼ãƒå®šç¾©ä¾‹ï¼ˆJSONå½¢å¼ / ğŸ’¯ä¿®æ­£ç‰ˆï¼‰
% ============================================================
\section*{ä»˜éŒ²Bï¼šSystemDKã‚¹ã‚­ãƒ¼ãƒå®šç¾©ä¾‹ï¼ˆJSONå½¢å¼ï¼‰}

ä»¥ä¸‹ã«SystemDKã®ã‚³ã‚¢ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ä¾‹ã‚’ç¤ºã™ã€‚
å…¨è¨­è¨ˆãƒ»è§£æãƒ»åˆ¶å¾¡ãƒ‡ãƒ¼ã‚¿ã¯ã“ã®éšå±¤æ§‹é€ ä¸Šã§åŒæœŸç®¡ç†ã•ã‚Œã‚‹ã€‚
LLMå±¤ã¯ã“ã®ã‚¹ã‚­ãƒ¼ãƒã‚’ç›´æ¥å‚ç…§ã—ï¼Œ
è¨­è¨ˆãƒ»è§£æãƒ»åˆ¶å¾¡é–“ã®ä¾å­˜é–¢ä¿‚ã‚’å‹•çš„ã«æ¨è«–ã™ã‚‹ã€‚

% listings ã¯ ASCII ã®ã¿ã€‚æ—¥æœ¬èªã¯å¤–ã«æ›¸ãã“ã¨ã€‚
\lstset{
  language=json,
  breaklines=true,
  breakatwhitespace=false,
  columns=fullflexible,
  postbreak=\mbox{\textcolor{gray}{$\hookrightarrow$}\space},
  basicstyle=\ttfamily\scriptsize,
  backgroundcolor=\color{lightgray},
  frame=single,
  xleftmargin=2pt,
  xrightmargin=2pt
}
\begin{lstlisting}[caption={SystemDK schema example},label={lst:sdk_schema}]
{
  "SystemDK": {
    "Spec": {
      "target": "Actuator_M2",
      "resolution": "0.01 mm",
      "max_force": "40 N"
    },
    "Control": {
      "PID": {"Kp": 2.4, "Ki": 0.05, "Kd": 0.01},
      "FSM": {
        "states": ["NORMAL","HOLD","FAULT"],
        "thresholds": {"temp_warn": 85, "temp_crit": 95}
      },
      "LLM": {"model": "GPT-5-engineering","mode": "analysis"}
    },
    "Structure": {
      "BRDK": {"material": "Cu","thickness": "1.2 mm"},
      "IPDK": {"interposer": "Si","vias": "TSV-3D"}
    },
    "Analysis": {
      "FEM": {"mesh": 2000000,"max_stress": "180 MPa"},
      "Noise": {"PI": "stable","SI": "good"}
    }
  }
}
\end{lstlisting}

SystemDKã¯ã“ã®ã‚¹ã‚­ãƒ¼ãƒã‚’å®Ÿè¡Œæ™‚ã«è‡ªå¾‹æ›´æ–°ã—ï¼Œ
è¨­è¨ˆå¤‰æ›´ãƒ»è§£æçµæœãƒ»åˆ¶å¾¡æŒ‡ä»¤ã‚’å¸¸æ™‚æ•´åˆåŒ–ã™ã‚‹ã€‚
ã“ã‚Œã«ã‚ˆã‚Šï¼Œè¨­è¨ˆæƒ…å ±ãŒé™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ãªãï¼Œ
\textbf{ã€Œå‹•çš„ã«åˆ¶å¾¡å¯èƒ½ãªçŸ¥è­˜ã‚°ãƒ©ãƒ•
ï¼ˆDynamic Knowledge Graphï¼‰ã€}ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã€‚

% ============================================================
% Appendix C: LLMå±¤ã«ã‚ˆã‚‹å†è¨­è¨ˆæŒ‡ä»¤ç”Ÿæˆãƒ—ãƒ­ã‚»ã‚¹ï¼ˆæ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ / ğŸ’¯ä¿®æ­£ç‰ˆï¼‰
% ============================================================
\section*{ä»˜éŒ²Cï¼šLLMå±¤ã«ã‚ˆã‚‹å†è¨­è¨ˆæŒ‡ä»¤ç”Ÿæˆãƒ—ãƒ­ã‚»ã‚¹ï¼ˆæ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ï¼‰}

LLMå±¤ã¯SystemDKã‚¹ã‚­ãƒ¼ãƒå…¨ä½“ã‚’ç›£è¦–ã—ï¼Œ
ä¸æ•´åˆãŒç™ºç”Ÿã—ãŸå ´åˆã«å†è¨­è¨ˆæŒ‡ä»¤ã‚’ç”Ÿæˆãƒ»åæ˜ ã™ã‚‹ã€‚
ä»¥ä¸‹ã«ãã®æŠ½è±¡åŒ–ã•ã‚ŒãŸãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¤ºã™ã€‚
ï¼ˆâ€» listings ã¯ ASCII ã®ã¿ã€‚æ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆã¯å¤–ã«æ›¸ãã€‚ï¼‰

\lstset{
  language={},                  % æ˜ç¤ºçš„ã«è¨€èªãªã—ï¼ˆè£…é£¾æœ€å°ï¼‰
  breaklines=true,
  breakatwhitespace=false,
  columns=fullflexible,
  postbreak=\mbox{\textcolor{gray}{$\hookrightarrow$}\space},
  basicstyle=\ttfamily\scriptsize,
  backgroundcolor=\color{lightgray},
  frame=single,
  xleftmargin=2pt,
  xrightmargin=2pt
}
\begin{lstlisting}[caption={LLM-driven redesign procedure},label={lst:llm_proc}]
procedure LLM_Reconfiguration(SystemDK):
    input: current SystemDK schema S
    delta = AnalyzeConsistency(S)                // consistency analysis
    if delta != 0:
        cause    = Diagnose(delta)               // root-cause estimation
        proposal = GenerateRedesign(cause)       // redesign proposal
        UpdateSchema(S, proposal)                // apply to schema
        Notify(PID, FSM)                         // update FPGA parameters
        ReRunVerification()                      // re-verify
    else:
        MaintainStableState()                    // keep stable
end procedure
\end{lstlisting}

ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã«ã‚ˆã‚Šï¼Œ
SystemDKã¯è¨­è¨ˆãƒ»è§£æãƒ»åˆ¶å¾¡ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆã‚’å¸¸æ™‚ç¢ºèªã—ï¼Œ
ä¸æ•´åˆãŒæ¤œå‡ºã•ã‚Œã‚‹ã¨å³åº§ã«å†æ§‹æˆã‚’è¡Œã†ã€‚
ã“ã‚ŒãŒæœ¬ç ”ç©¶ã®ä¸­æ ¸ã§ã‚ã‚‹
\textbf{ã€Œè¨­è¨ˆãã®ã‚‚ã®ã‚’åˆ¶å¾¡å¯¾è±¡ã¨ã™ã‚‹è‡ªå¾‹å†è¨­è¨ˆãƒ«ãƒ¼ãƒ—ã€}
ã‚’æ§‹æˆã™ã‚‹ã€‚
